{"ast":null,"code":"var _jsxFileName = \"/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Table1.js\";\nimport React, { Component } from 'react';\nimport { retrieveUsers, createUser, updateUser, deleteUser } from \"../actions/actions\";\nimport UserForm from '../components/UserForm';\nimport '../css/Table.css';\n\nclass Table1 extends Component {\n  constructor() {\n    super();\n\n    this.redirectToHome = () => {\n      const {\n        history\n      } = this.props;\n      if (history) history.push('/UserForm');\n    };\n\n    this.fetchUsers = () => {\n      retrieveUsers().then(res => {\n        this.setState({\n          data: res\n        });\n        alert('Successfully Retrieved!');\n      }).catch(err => {\n        alert('Failed to fetch users! ' + err);\n      });\n    };\n\n    this.deleteRecord = event => {\n      event.preventDefault();\n      let id = event.target.id;\n      deleteUser({\n        id: id\n      }).then(response => {\n        alert('Succesfully Deleted!');\n        this.fetchUsers();\n      }).catch(err => {\n        alert('Account failed to delete !' + err);\n      });\n    };\n\n    this.fillForm = item => event => {\n      event.preventDefault();\n      this.props.history.push(\"/UserForm\", {\n        name: item.name,\n        password: item.password,\n        age: item.age,\n        address: item.address,\n        job: item.job\n      });\n    };\n\n    this.updateUserInfo = event => {\n      event.preventDefault();\n      const {\n        name\n      } = this.state;\n      const {\n        password\n      } = this.state;\n      const {\n        age\n      } = this.state;\n      const {\n        address\n      } = this.state;\n      const {\n        job\n      } = this.state;\n      let id = this.props.location.state.id;\n      this.props.history.push(\"/UserForm\", {});\n      updateUser({\n        id: id,\n        name: name,\n        password: password,\n        age: age,\n        address: address,\n        job: job\n      }).then(res => {\n        this.props.history.push('/');\n        alert('Account Successfully Updated');\n        this.fetchUsers();\n      }).catch(err => {\n        alert('Account failed to update! ' + err);\n      });\n    };\n\n    this.updateUserInfo = this.updateUserInfo.bind(this);\n    this.state = {\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUsers();\n  }\n\n  render() {\n    let rows = [];\n    const contents = this.state.data.forEach((item, key) => {\n      if (key % 2 === 0) {\n        rows.push( /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"bg-secondary text-black\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }\n        }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }\n        }, item.password), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }\n        }, item.age), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }\n        }, item.address), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }\n        }, item.job), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.fillForm(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }\n        }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          id: item.name,\n          onClick: this.deleteRecord,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }\n        }, \"Delete\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.updateUserInfo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }\n        }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          id: item,\n          onClick: this.retrieveUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }\n        }, \"Display\"))));\n      } else {\n        rows.push( /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"bg-secondary text-green\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }\n        }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }\n        }, item.password), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }\n        }, item.age), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }\n        }, item.address), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }\n        }, item.job), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.fillForm(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }\n        }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          id: item,\n          onClick: this.deleteRecord,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }\n        }, \"Delete\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.updateUserInfo,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }\n        }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          id: item,\n          onClick: this.retrieveUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }\n        }, \"Display\"))));\n      }\n\n      ;\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"Table-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"Job\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, \"Display\"))), rows));\n  }\n\n}\n\nexport default Table1;","map":{"version":3,"sources":["/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Table1.js"],"names":["React","Component","retrieveUsers","createUser","updateUser","deleteUser","UserForm","Table1","constructor","redirectToHome","history","props","push","fetchUsers","then","res","setState","data","alert","catch","err","deleteRecord","event","preventDefault","id","target","response","fillForm","item","name","password","age","address","job","updateUserInfo","state","location","bind","componentDidMount","render","rows","contents","forEach","key","retrieveUser"],"mappings":"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","sourcesContent":["\nimport React, {Component} from 'react';\nimport { retrieveUsers,createUser,updateUser,deleteUser } from \"../actions/actions\";\nimport UserForm from '../components/UserForm';\nimport '../css/Table.css';\nclass Table1 extends Component{\n    constructor(){\n        super();\n        this.updateUserInfo = this.updateUserInfo.bind(this);\n        this.state = {\n            data: []\n        };\n    }\n    \n    redirectToHome = () => {\n        const { history } = this.props;\n        if(history) history.push('/UserForm');\n      } \n    componentDidMount(){\n        this.fetchUsers();\n    }\n    fetchUsers = () => {\n        retrieveUsers().then(res =>{ \n            this.setState({data:res});\n            alert('Successfully Retrieved!');\n        }).catch(err => {\n            alert('Failed to fetch users! '+err);\n        });\n      }\n      deleteRecord = (event) => {\n          event.preventDefault();\n          let id = event.target.id;\n\n        deleteUser({id: id})\n        .then(response => {\n            alert('Succesfully Deleted!');\n            this.fetchUsers();\n        }).catch(err => {\n            alert('Account failed to delete !' +err);\n        });\n      }\n      fillForm = item => event => {\n        \n        event.preventDefault();\n        this.props.history.push(\"/UserForm\", {\n          name: item.name,\n          password: item.password,\n          age: item.age,\n          address: item.address,\n          job: item.job\n        });\n      }\n      updateUserInfo = (event) =>{\n        event.preventDefault();\n         const{name} = this.state;\n            const{password} = this.state;\n            const{age} = this.state;\n            const{address} = this.state;\n            const{job} = this.state;\n            let id = this.props.location.state.id;   \n          this.props.history.push(\"/UserForm\", {\n           \n          })\n       \n         \n        updateUser({\n            id:id,\n            name:name,\n            password:password,\n            age:age,\n            address:address,\n            job:job,\n        }).then(res => {\n            this.props.history.push('/');\n            alert('Account Successfully Updated');\n            this.fetchUsers();\n        }).catch(err =>{\n            alert('Account failed to update! '+err);\n        })\n      }\n\n      render() {\n        let rows = [];\n        \n        const contents = this.state.data.forEach((item, key) => {\n          if(key % 2 === 0)\n          {\n            rows.push(<tr className='bg-secondary text-black'>\n            <td>{item.name}</td>\n            <td>{item.password}</td>\n            <td>{item.age}</td>\n            <td>{item.address}</td>\n            <td>{item.job}</td>\n            <td><button onClick={this.fillForm(item)}>Edit</button></td>\n            <td><button id={item.name} onClick={this.deleteRecord}>Delete</button></td>\n            <td><button onClick={this.updateUserInfo}>Update</button></td>\n            <td><button id={item} onClick={this.retrieveUser}>Display</button></td>\n            </tr>);\n          }else{\n            rows.push(<tr className='bg-secondary text-green'>\n            <td>{item.name}</td>\n            <td>{item.password}</td>\n            <td>{item.age}</td>\n            <td>{item.address}</td>\n            <td>{item.job}</td>\n            <td><button onClick={this.fillForm(item)}>Edit</button></td>\n            <td><button id={item} onClick={this.deleteRecord}>Delete</button></td>\n            <td><button onClick={this.updateUserInfo}>Update</button></td>\n            <td><button id={item} onClick={this.retrieveUser}>Display</button></td>\n            </tr>);\n          };\n     });\n        return (\n          <div className=\"container\">\n            <table className=\"table table-striped\">\n              <thead>\n              <tr className='Table-header'>\n                <th>Name</th>\n                <th>Password</th>\n                <th>Age</th>\n                <th>Address</th>\n                <th>Job</th>\n                <th>Edit</th>\n                <th>Delete</th>\n                <th>Update</th>\n                <th>Display</th>\n              </tr>\n              </thead>\n              {rows}\n            </table>\n          </div>\n        );\n      }\n    \n}\nexport default Table1;"]},"metadata":{},"sourceType":"module"}