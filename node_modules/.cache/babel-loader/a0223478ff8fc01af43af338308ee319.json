{"ast":null,"code":"var _jsxFileName = \"/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport GoogleLogin from 'react-google-login';\nimport { Redirect } from 'react-router-dom';\nimport { findUser, retrieveUsers, createUser } from '../actions/actions';\nimport { Button, Container } from 'react-bootstrap';\nimport { green } from '@material-ui/core/colors';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props); // This binding is necessary to make `this` work in the callback\n\n    this.fetchUsers = () => {\n      retrieveUsers().then(res => {\n        this.setState({\n          data: res\n        });\n      }).catch(err => {\n        alert('Failed to fetch users! ' + err);\n      });\n    };\n\n    this.handleNameChange = event => {\n      event.preventDefault();\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      event.preventDefault();\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.UserAuthenticationFunction = event => {\n      event.preventDefault();\n      let authenticate = false;\n      const {\n        name\n      } = this.state;\n      const {\n        password\n      } = this.state;\n      const contents = this.state.data.forEach((item, key) => {\n        if (item.password === password && item.name === name) {\n          authenticate = true;\n          this.props.history.push(\"/home\", {\n            name: item.name\n          });\n        }\n      });\n\n      if (authenticate === false) {\n        alert(\"Incorrect Username/Password! Please try again!\");\n      }\n    };\n\n    this.UserAuthenticationFunction = this.UserAuthenticationFunction.bind(this);\n    this.state = {\n      name: '',\n      password: '',\n      data: [],\n      loading: true\n    };\n    this.loggedUser = {\n      name: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUsers();\n  }\n\n  GoogleSignUp(res) {\n    const googleresponse = {\n      Name: res.profileObj.name,\n      email: res.profileObj.email,\n      token: res.googleId,\n      Image: res.profileObj.imageUrl,\n      ProviderId: 'Google'\n    };\n    let name = googleresponse.Name;\n    let password = googleresponse.email;\n    debugger;\n    const {\n      user\n    } = findUser({\n      data: googleresponse.Name\n    });\n    console.log(user);\n    findUser({\n      data: googleresponse.Name\n    }).then(res => {\n      this.setState({\n        data: res\n      });\n      console.log(res);\n\n      if (res.data === null) {\n        createUser({\n          name,\n          password\n        }).then(result => {\n          this.props.history.push(\"/\");\n          alert(\"Your account has been succesfully created using Google!. Your user name is \" + name + \" and your password is your email \" + password);\n          window.location.reload(false);\n        }).catch(err => {\n          alert(err);\n        });\n      } else {\n        console.log(\"Failed to create an account using Google. Account with the user name already exists! \");\n      }\n    }).catch(err => {\n      alert('Failed to fetch users! ' + err);\n    });\n  }\n\n  render() {\n    const responseGoogle = response => {\n      console.log(response);\n      var res = response.profileObj;\n      console.log(res);\n      debugger;\n      this.GoogleSignUp(response);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-7 m-auto\",\n      id: \"input1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 58\n      }\n    }), \" NDXHardware\\u2122\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      id: \"over\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"greengamingpc.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 92\n      }\n    }, \"For The Players \\uD83D\\uDE0E\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"Label\",\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, \"User Name:\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"inputt1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"name\",\n      onChange: this.handleNameChange,\n      id: \"name\",\n      name: \"name\",\n      placeholder: this.props.location.state !== undefined ? this.props.location.state.name : 'Name',\n      required: true,\n      size: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"Label\",\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }, \"Password/Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      id: \"password\",\n      name: \"password\",\n      onChange: this.handlePasswordChange,\n      placeholder: this.props.location.state !== undefined ? this.props.location.state.password : 'Password',\n      required: true,\n      size: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 251\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.UserAuthenticationFunction,\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"185553280090-78vffcbbv7j7jadv4p77hfa6hjqtbk72.apps.googleusercontent.com\",\n      buttonText: \"Sign Up with Google\",\n      onSuccess: responseGoogle,\n      onFailure: responseGoogle,\n      className: \"btn2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/registration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, \"Don't Have an Account? Sign Up!!\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 92\n      }\n    }, \"NDXHardware\\u2122\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 92\n      }\n    }, \"Developed by NDXSoftware\\u2122 Inc.\")))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Login.js"],"names":["React","Component","Link","FacebookLogin","GoogleLogin","Redirect","findUser","retrieveUsers","createUser","Button","Container","green","Login","constructor","props","fetchUsers","then","res","setState","data","catch","err","alert","handleNameChange","event","preventDefault","name","target","value","handlePasswordChange","password","UserAuthenticationFunction","authenticate","state","contents","forEach","item","key","history","push","bind","loading","loggedUser","componentDidMount","GoogleSignUp","googleresponse","Name","profileObj","email","token","googleId","Image","imageUrl","ProviderId","user","console","log","result","window","location","reload","render","responseGoogle","response","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport {Link} from  'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport GoogleLogin from 'react-google-login';\nimport { Redirect } from 'react-router-dom';\nimport {findUser,retrieveUsers,createUser} from '../actions/actions';\nimport { Button, Container } from 'react-bootstrap';\nimport { green } from '@material-ui/core/colors';\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        // This binding is necessary to make `this` work in the callback\n        this.UserAuthenticationFunction = this.UserAuthenticationFunction.bind(this);\n        this.state = {\n         name: '',\n         password: '',\n         data: [],\n         loading: true,\n      }\n        this.loggedUser = {\n          name: \"\"\n        }\n        \n      }\n      componentDidMount(){\n        this.fetchUsers();\n    }\n    fetchUsers = () => {\n      retrieveUsers().then(res =>{ \n          this.setState({data:res});\n      }).catch(err => {\n          alert('Failed to fetch users! '+err);\n      });\n    }\n  \n    handleNameChange = (event) => {\n      event.preventDefault();\n      this.setState({name: event.target.value});\n    }\n    handlePasswordChange = (event) =>{\n        event.preventDefault();\n        this.setState({password: event.target.value});\n    }\n  \n    GoogleSignUp(res) {  \n          const googleresponse = {\n            Name: res.profileObj.name,\n            email: res.profileObj.email, \n            token: res.googleId,\n            Image: res.profileObj.imageUrl,\n            ProviderId: 'Google'\n          };\n          let name = googleresponse.Name;\n          let password = googleresponse.email;\n          debugger;\n          const {user} = findUser({data: googleresponse.Name});\n          console.log(user);\n          findUser({data: googleresponse.Name}).then(res =>{ \n            this.setState({data:res});\n            console.log(res);\n            if(res.data === null){\n              createUser({name,password})\n              .then((result) =>{\n                 this.props.history.push(\"/\");\n                 alert(\"Your account has been succesfully created using Google!. Your user name is \"+name+\" and your password is your email \"+password);\n                 window.location.reload(false);\n              })\n              .catch((err) =>{\n                 alert(err);\n              });\n            }\n            else{\n              console.log(\"Failed to create an account using Google. Account with the user name already exists! \");\n            }\n        }).catch(err => {\n            alert('Failed to fetch users! '+err);\n        });\n          \n        };\n      \n      \n    UserAuthenticationFunction = (event) => {\n      event.preventDefault();\n      let authenticate = false;\n      const {name} = this.state;\n      const {password} = this.state;\n       \n      const contents = this.state.data.forEach((item,key) => {\n        if(item.password === password && item.name === name){\n          authenticate = true;\n          this.props.history.push(\"/home\",{\n            name: item.name\n          });\n        }\n      });\n     if(authenticate === false){\n       alert(\"Incorrect Username/Password! Please try again!\")\n     } \n     \n    };\n    render() {\n      const responseGoogle = (response) => {\n              console.log(response);\n              var res = response.profileObj;\n              console.log(res);\n              debugger;\n              this.GoogleSignUp(response);\n            }\n                \n      return (\n         <div className=\"container\">\n         \n          <div className=\"col-lg-7 m-auto\" id=\"input1\">\n          <div className=\"card card-body\">\n          <h2 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i> NDXHardware™\n          </h2>\n          <br></br>\n          <div className=\"form-group\" id=\"over\">\n          <img src=\"greengamingpc.png\" ></img>\n          </div>\n          <div className=\"form-group\">\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          For The Players 😎</b> \n          </h5>  \n          </div>\n          <div className=\"form-group\">   \n          <label className=\"Label\" for=\"name\">User Name:</label>\n          <div id= \"inputt1\">\n          <input class=\"form-control\"  type=\"name\" onChange={this.handleNameChange} id=\"name\" name=\"name\" placeholder={(this.props.location.state !== undefined) ? this.props.location.state.name : 'Name'} required  size=\"10\"/>\n          </div>\n         \n          <br/>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"Label\" for=\"password\">Password/Email:</label>\n            <input className=\"form-control\" type=\"text\" id=\"password\" name=\"password\" onChange={this.handlePasswordChange} placeholder={(this.props.location.state !== undefined) ? this.props.location.state.password : 'Password'} required  size=\"10\"/><br/>\n          </div>\n          <br></br>\n          <button type=\"submit\" onClick={this.UserAuthenticationFunction} className=\"btn\">\n            Login\n          </button>\n          <br></br>\n          <GoogleLogin\n                clientId=\"185553280090-78vffcbbv7j7jadv4p77hfa6hjqtbk72.apps.googleusercontent.com\"\n                buttonText=\"Sign Up with Google\"\n                onSuccess={responseGoogle}\n                onFailure={responseGoogle} \n               className=\"btn2\"\n                ></GoogleLogin>\n                <br></br>\n          <div className=\"form-group\">\n          <Link className=\"link\"  to=\"/registration\">Don't Have an Account? Sign Up!!</Link>\n          </div>\n          <br></br>\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          NDXHardware™</b> \n          </h5>\n          <br></br>\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          Developed by NDXSoftware™ Inc.</b> \n          </h5>\n          </div> \n        </div>\n         </div>\n         \n        \n      );\n    }\n  }\n  export default Login;"]},"metadata":{},"sourceType":"module"}