{"ast":null,"code":"var _jsxFileName = \"/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport GoogleLogin from 'react-google-login';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { findUser, retrieveUsers, createUser } from '../actions/actions';\nimport { Button, Container } from 'react-bootstrap';\nimport { green } from '@material-ui/core/colors';\nimport usersActions from '../redux/actions/users';\nimport continentsActions from '../redux/actions/continents';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport NDXSoftwareDropDown from './NDXSoftwareDropDown';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props); // This binding is necessary to make `this` work in the callback\n\n    this.handleNameChange = event => {\n      event.preventDefault();\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      event.preventDefault();\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.UserAuthenticationFunction = event => {\n      event.preventDefault();\n      let authenticate = false;\n      const {\n        name\n      } = this.state;\n      const {\n        password\n      } = this.state;\n      console.log(this.props.continents);\n      const contents = this.props.users.forEach((item, key) => {\n        console.log(authenticate);\n\n        if (item.password === password && item.name === name) {\n          authenticate = true;\n          this.props.history.push(\"/home\", {\n            name: item.name\n          });\n        }\n      });\n\n      if (authenticate === false) {\n        alert(\"Incorrect Username/Password! Please try again!\");\n      }\n    };\n\n    this.UserAuthenticationFunction = this.UserAuthenticationFunction.bind(this);\n    this.state = {\n      name: '',\n      password: '',\n      data: [],\n      loading: true\n    };\n    this.loggedUser = {\n      name: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(usersActions.retrieveUsers());\n    toast.success(\"Warning! You are about to enter a PC Configurator that totally reeks from awesomeness!\");\n    this.props.dispatch(continentsActions.retrieveContinents());\n  }\n\n  GoogleSignUp(res) {\n    const googleresponse = {\n      Name: res.profileObj.name,\n      email: res.profileObj.email,\n      token: res.googleId,\n      Image: res.profileObj.imageUrl,\n      ProviderId: 'Google'\n    };\n    let name = googleresponse.Name;\n    let password = googleresponse.email;\n    debugger;\n    const {\n      user\n    } = findUser({\n      data: googleresponse.Name\n    });\n    console.log(user);\n    findUser({\n      data: googleresponse.Name\n    }).then(res => {\n      this.setState({\n        data: res\n      });\n      console.log(res);\n\n      if (res.data === null) {\n        createUser({\n          name,\n          password\n        }).then(result => {\n          this.props.history.push(\"/\");\n          alert(\"Your account has been succesfully created using Google!. Your user name is \" + name + \" and your password is your email \" + password);\n          window.location.reload(false);\n        }).catch(err => {\n          alert(err);\n        });\n      } else {\n        console.log(\"Failed to create an account using Google. Account with the user name already exists! \");\n      }\n    }).catch(err => {\n      alert('Failed to fetch users! ' + err);\n    });\n  }\n\n  render() {\n    const responseGoogle = response => {\n      console.log(response);\n      var res = response.profileObj;\n      console.log(res);\n      debugger;\n      this.GoogleSignUp(response);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-7 m-auto\",\n      id: \"input1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 58\n      }\n    }), \" NDXHardware\\u2122\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      id: \"over\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"greengamingpc.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 92\n      }\n    }, \"For The Players \\uD83D\\uDE0E\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"Label\",\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, \"User Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control\",\n      type: \"name\",\n      onChange: this.handleNameChange,\n      id: \"name\",\n      name: \"name\",\n      placeholder: this.props.location.state !== undefined ? this.props.location.state.name : 'Name',\n      required: true,\n      size: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"Label\",\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, \"Password/Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      id: \"password\",\n      name: \"password\",\n      onChange: this.handlePasswordChange,\n      placeholder: this.props.location.state !== undefined ? this.props.location.state.password : 'Password',\n      required: true,\n      size: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 251\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"Label\",\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, \"Select A Region:\")), /*#__PURE__*/React.createElement(NDXSoftwareDropDown, {\n      data: this.props.continents,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.UserAuthenticationFunction,\n      className: \"btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"185553280090-78vffcbbv7j7jadv4p77hfa6hjqtbk72.apps.googleusercontent.com\",\n      buttonText: \"Google Sign Up\",\n      onSuccess: responseGoogle,\n      onFailure: responseGoogle,\n      className: \"btn2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/registration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }\n    }, \"Don't Have an Account? Sign Up!!\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 92\n      }\n    }, \"NDXHardware\\u2122\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      class: \"text-center mb-3\",\n      className: \"Label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fas fa-sign-in-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 92\n      }\n    }, \"Developed by NDXSoftware\\u2122 Inc.\")))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: state.userReducer.users,\n  continents: state.continentReducer.continents\n});\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/home/nadghantous/Desktop/nadghantousprojects/react/csis-myapp-test/src/components/Login.js"],"names":["React","Component","Link","FacebookLogin","GoogleLogin","Redirect","connect","findUser","retrieveUsers","createUser","Button","Container","green","usersActions","continentsActions","toast","NDXSoftwareDropDown","Login","constructor","props","handleNameChange","event","preventDefault","setState","name","target","value","handlePasswordChange","password","UserAuthenticationFunction","authenticate","state","console","log","continents","contents","users","forEach","item","key","history","push","alert","bind","data","loading","loggedUser","componentDidMount","dispatch","success","retrieveContinents","GoogleSignUp","res","googleresponse","Name","profileObj","email","token","googleId","Image","imageUrl","ProviderId","user","then","result","window","location","reload","catch","err","render","responseGoogle","response","undefined","mapStateToProps","userReducer","continentReducer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport {Link} from  'react-router-dom';\nimport FacebookLogin from 'react-facebook-login';\nimport GoogleLogin from 'react-google-login';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {findUser,retrieveUsers,createUser} from '../actions/actions';\nimport { Button, Container } from 'react-bootstrap';\nimport { green } from '@material-ui/core/colors';\nimport usersActions from '../redux/actions/users'\nimport continentsActions from '../redux/actions/continents';\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css';\nimport NDXSoftwareDropDown from './NDXSoftwareDropDown';\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        // This binding is necessary to make `this` work in the callback\n        this.UserAuthenticationFunction = this.UserAuthenticationFunction.bind(this);\n        this.state = {\n         name: '',\n         password: '',\n         data: [],\n         loading: true,\n      }\n        this.loggedUser = {\n          name: \"\"\n        }\n        \n      }\n      componentDidMount(){\n        this.props.dispatch(usersActions.retrieveUsers());\n        toast.success(\"Warning! You are about to enter a PC Configurator that totally reeks from awesomeness!\");\n        this.props.dispatch(continentsActions.retrieveContinents());\n    }\n    handleNameChange = (event) => {\n      event.preventDefault();\n      this.setState({name: event.target.value});\n    }\n    handlePasswordChange = (event) =>{\n        event.preventDefault();\n        this.setState({password: event.target.value});\n    }\n  \n    GoogleSignUp(res) {  \n          const googleresponse = {\n            Name: res.profileObj.name,\n            email: res.profileObj.email, \n            token: res.googleId,\n            Image: res.profileObj.imageUrl,\n            ProviderId: 'Google'\n          };\n          let name = googleresponse.Name;\n          let password = googleresponse.email;\n          debugger;\n          const {user} = findUser({data: googleresponse.Name});\n          console.log(user);\n          findUser({data: googleresponse.Name}).then(res =>{ \n            this.setState({data:res});\n            console.log(res);\n            if(res.data === null){\n              createUser({name,password})\n              .then((result) =>{\n                 this.props.history.push(\"/\");\n                 alert(\"Your account has been succesfully created using Google!. Your user name is \"+name+\" and your password is your email \"+password);\n                 window.location.reload(false);\n              })\n              .catch((err) =>{\n                 alert(err);\n              });\n            }\n            else{\n              console.log(\"Failed to create an account using Google. Account with the user name already exists! \");\n            }\n        }).catch(err => {\n            alert('Failed to fetch users! '+err);\n        });\n          \n        };\n      \n      \n    UserAuthenticationFunction = (event) => {\n      event.preventDefault();\n      let authenticate = false;\n      const {name} = this.state;\n      const {password} = this.state;\nconsole.log(this.props.continents);\n      const contents = this.props.users.forEach((item,key) => {\n        console.log(authenticate);\n        if(item.password === password && item.name === name){\n          authenticate = true;\n          this.props.history.push(\"/home\",{\n            name: item.name\n          });\n        }\n      });\n     if(authenticate === false){\n       alert(\"Incorrect Username/Password! Please try again!\")\n     } \n     \n    };\n    render() {\n      const responseGoogle = (response) => {\n              console.log(response);\n              var res = response.profileObj;\n              console.log(res);\n              debugger;\n              this.GoogleSignUp(response);\n            }\n                \n      return (\n         <div className=\"container\">\n         \n          <div className=\"col-lg-7 m-auto\" id=\"input1\">\n          <div className=\"card card-body\">\n            <br></br>\n          <h2 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i> NDXHardware™\n          </h2>\n          <br></br>\n          <div className=\"form-group\" id=\"over\">\n          <img src=\"greengamingpc.png\" ></img>\n          </div>\n          <div className=\"form-group\">\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          For The Players 😎</b> \n          </h5>  \n          </div>\n          <div className=\"form-group\">   \n          <label className=\"Label\" for=\"name\">User Name:</label>\n          <input class=\"form-control\"  type=\"name\" onChange={this.handleNameChange} id=\"name\" name=\"name\" placeholder={(this.props.location.state !== undefined) ? this.props.location.state.name : 'Name'} required  size=\"10\"/>    \n          <br/>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"Label\" for=\"password\">Password/Email:</label>\n            <input className=\"form-control\" type=\"text\" id=\"password\" name=\"password\" onChange={this.handlePasswordChange} placeholder={(this.props.location.state !== undefined) ? this.props.location.state.password : 'Password'} required  size=\"10\"/><br/>\n          </div>\n          <br></br>\n          <br></br>\n          <div className=\"form-group\">\n            <label className=\"Label\" for=\"password\">Select A Region:</label>\n          </div>\n          <NDXSoftwareDropDown data={this.props.continents}></NDXSoftwareDropDown>\n          <br></br>\n          <br></br>\n          <button type=\"submit\" onClick={this.UserAuthenticationFunction} className=\"btn\">\n            Login\n          </button>\n          <br></br>\n          <GoogleLogin\n                clientId=\"185553280090-78vffcbbv7j7jadv4p77hfa6hjqtbk72.apps.googleusercontent.com\"\n                buttonText=\"Google Sign Up\"\n                onSuccess={responseGoogle}\n                onFailure={responseGoogle} \n                className=\"btn2\"\n                ></GoogleLogin>\n                <br></br>\n          <div className=\"form-group\">\n          <Link className=\"link\"  to=\"/registration\">Don't Have an Account? Sign Up!!</Link>\n          </div>\n          <br></br>\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          NDXHardware™</b> \n          </h5>\n          <br></br>\n          <h5 class=\"text-center mb-3\" className=\"Label\"><i class=\"fas fa-sign-in-alt\"></i><b>\n          Developed by NDXSoftware™ Inc.</b> \n          </h5>\n          </div> \n        </div>\n         </div>\n         \n        \n      );\n    }\n  }\n  const mapStateToProps = state =>({\n    users: state.userReducer.users,\n    continents: state.continentReducer.continents\n  })\n  \n  export default connect(mapStateToProps)(Login);"]},"metadata":{},"sourceType":"module"}